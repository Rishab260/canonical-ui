{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vaco App Store</title>
    <link rel="stylesheet" href="{% static 'canonical-ui/styles.css' %}">
</head>

<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <img src="{% static 'canonical-ui/download1.png' %}" alt="Vaco Binary Logo" class="logo-img">
            </div>

            <ul class="nav-links">
                <li><a href="#" class="active">Home</a></li>
                <li><a href="#">Categories</a></li>
                <li><a href="#">About Us</a></li>
            </ul>

            <div class="search-bar">
                <form method="get" id="search-form">
                    <input type="text" name="search" placeholder="Search projects..." value="{{ search_query }}">
                </form>
            </div>
        </nav>
    </header>

    <section class="hero-section">
        <h1>Discover Industrial Excellence</h1>
        <p>Explore a comprehensive collection of industrial projects, innovations, and solutions.</p>
    </section>

    <!-- Filter Section -->
    <div class="filter-bar">
        <form method="get" class="filter-form">
            <select name="category">
                <option value="">All Categories</option>
                {% for category in categories %}
                    <option value="{{ category.id }}" {% if selected_category|add:'' == category.id|stringformat:'s' %}selected{% endif %}>
                        {{ category.name }}
                    </option>
                {% endfor %}
            </select>

            <select name="team">
                <option value="">All Teams</option>
                {% for team in teams %}
                    <option value="{{ team.id }}" {% if selected_team|add:'' == team.id|stringformat:'s' %}selected{% endif %}>
                        {{ team.name }}
                    </option>
                {% endfor %}
            </select>

            <button type="submit">Apply Filters</button>
        </form>
    <div class="section-title">
        <h2>Top Rated Projects</h2>
        <a href="#">See All</a>
    </div>

    <div class="projects-grid">
        <a href="{% url 'core:app_details' app_id=1 %}" class="project-card-link">
        <div class="project-card">
            <div class="project-image"></div>
            <div class="project-info">
                <span class="project-category">Project type</span>
                <h3 class="project-title">Project Name</h3>
                <p class="project-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Excepturi, eius dolore. Quos aut aliquam ducimus rerum sapiente! Vel nesciunt deleniti similique voluptatum quasi quibusdam corporis, unde nostrum, earum ducimus dolorem.</p>
                <div class="project-meta">
                    <span>By Owner</span>
                    <div class="project-rating">
                        <span>4.9</span>
                        <span>★★★★★</span>
                    </div>
                </div>
            </div>
        </div>
        </a>

        <a href="{% url 'core:app_details' app_id=2 %}" class="project-card-link">
        <div class="project-card">
            <div class="project-image"></div>
            <div class="project-info">
                <span class="project-category">Project Type</span>
                <h3 class="project-title">Project name</h3>
                <p class="project-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptates, dolorem aliquid dolore vitae eaque facere nobis beatae itaque totam! Necessitatibus, delectus. Architecto praesentium cum, cumque molestias perferendis magnam quod tenetur.</p>
                <div class="project-meta">
                    <span>By Owner</span>
                    <div class="project-rating">
                        <span>4.9</span>
                        <span>★★★★★</span>
                    </div>
                </div>
            </div>
        </div>
        </a>

        <a href="{% url 'core:app_details' app_id=3 %}" class="project-card-link">
        <div class="project-card">
            <div class="project-image"></div>
            <div class="project-info">
                <span class="project-category">Project type</span>
                <h3 class="project-title">Project Name</h3>
                <p class="project-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Deserunt inventore provident nihil dolore cum a, esse soluta qui vitae sapiente eligendi, itaque perspiciatis, incidunt odio fuga consectetur adipisci eius explicabo.</p>
                <div class="project-meta">
                    <span>By Owner</span>
                    <div class="project-rating">
                        <span>4.8</span>
                        <span>★★★★★</span>
                    </div>
                </div>
            </div>
        </div>
        </a>

        <a href="{% url 'core:app_details' app_id=4 %}" class="project-card-link">
        <div class="project-card">
            <div class="project-image"></div>
            <div class="project-info">
                <span class="project-category">Project Type</span>
                <h3 class="project-title">Project Name</h3>
                <p class="project-description">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Dignissimos dicta veritatis sit deleniti veniam voluptatem illum dolor perferendis voluptatum temporibus, recusandae iste deserunt culpa reiciendis totam labore praesentium asperiores sint.</p>
                <div class="project-meta">
                    <span>By Owner</span>
                    <div class="project-rating">
                        <span>4.8</span>
                        <span>★★★★★</span>
                    </div>
                </div>
            </div>
        </div>
        </a>
        
    </div>
    <div class="section-title">
        <h2>Featured Projects</h2>
        <a href="#">See All</a>
    </div>

    <div class="projects-grid">
        <div class="project-card">
            <div class="project-image"></div>
            <div class="project-info">
                <span class="project-category">Project Type</span>
                <h3 class="project-title">Project Name</h3>
                <p class="project-description">Description of the Project. Lorem ipsum dolor sit amet consectetur adipisicing elit. Unde non quidem dolorem quis aspernatur natus sapiente accusantium, placeat commodi dolorum impedit esse fuga ipsum officiis provident minus, officia, veniam laudantium!</p>
                <div class="project-meta">
                    <span>By Owner</span>
                    <div class="project-rating">
                        <span>4.8</span>
                        <span>★★★★★</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="project-card">
            <div class="project-image"></div>
            <div class="project-info">
                <span class="project-category">Project type</span>
                <h3 class="project-title">Project Name</h3>
                <p class="project-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex saepe autem non blanditiis veritatis ullam debitis dolor rerum quod mollitia excepturi laboriosam et commodi quas qui dolorem, illo modi tempora.</p>
                <div class="project-meta">
                    <span>By Owner</span>
                    <div class="project-rating">
                        <span>4.7</span>
                        <span>★★★★★</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="project-card">
            <div class="project-image"></div>
            <div class="project-info">
                <span class="project-category">Project Type</span>
                <h3 class="project-title">Project Name</h3>
                <p class="project-description">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Sint autem, illo voluptatum architecto consectetur dolorum aspernatur dignissimos facilis explicabo sunt modi pariatur eaque dicta illum hic officiis, nam minima beatae.</p>
                <div class="project-meta">
                    <span>By Owner</span>
                    <div class="project-rating">
                        <span>4.9</span>
                        <span>★★★★★</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="project-card">
            <div class="project-image"></div>
            <div class="project-info">
                <span class="project-category">Project Type</span>
                <h3 class="project-title">Project Name</h3>
                <p class="project-description">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Accusantium fuga, tempora, quas deleniti dolorem nihil voluptate laudantium tempore recusandae debitis omnis, accusamus ducimus veniam eos earum ipsam. Tempore, reiciendis veritatis.</p>
                <div class="project-meta">
                    <span>By Owner.</span>
                    <div class="project-rating">
                        <span>4.6</span>
                        <span>★★★★★</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="section-title">
        <h2>Available Projects</h2>
    </div>

    <!-- Apps Grid -->
    <div class="projects-grid">
        {% for app in apps %}
        <a href="{% url 'core:app_details' app_id=app.id %}" class="project-card-link">
    <div class="project-card">
        <div class="project-image">
            {% if app.screenshot_set.first %}
                <img src="{{ app.screenshot_set.first.image.url }}" alt="{{ app.name }}">
            {% else %}
                <img src="{% static 'canonical-ui/default-image.png' %}" alt="Default Image">
            {% endif %}
        </div>
        <div class="project-info">
            <span class="project-category">{{ app.category.name }}</span>
            <h3 class="project-title">{{ app.name }}</h3>
            <p class="project-description">{{ app.description|truncatewords:25 }}</p>
            <div class="project-meta">
                <span>By {{ app.owner.username }}</span>
            </div>
        </div>
        </div>
    </a>
        {% empty %}
        <p>No projects found matching your criteria.</p>
        {% endfor %}
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>Vaco Binary</h3>
                <ul>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Our Team</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h3>Products</h3>
                <ul>
                    <li><a href="#">Top Rated</a></li>
                    <li><a href="#">Featured Projects</a></li>
                    <li><a href="#">New Releases</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h3>Resources</h3>
                <ul>
                    <li><a href="#">Documentation</a></li>
                    <li><a href="#">Case Studies</a></li>
                    <li><a href="#">FAQs</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h3>Legal</h3>
                <ul>
                    <li><a href="#">Terms of Service</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
            </div>
        </div>

        <div class="copyright">
            <p>&copy; 2025 Vaco Binary. All rights reserved.</p>
        </div>
    </footer>

    <!-- Auto-submit search on input -->
    <script>
        const searchInput = document.querySelector('#search-form input[name="search"]');
        let timeout = null;
        searchInput.addEventListener('input', function () {
            clearTimeout(timeout);
            timeout = setTimeout(() => {
                document.getElementById('search-form').submit();
            }, 400);
        });
    </script>

</body>
</html>
